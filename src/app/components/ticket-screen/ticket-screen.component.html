<div class="wrapper fullHeight" *ngIf="visibleComponent == 'main'">
	<div class="shoppingCart sideColumn">
		<div class="text-center mt-2">{{ '#ticketScreen-cart-total' | translate }}: {{ (totalPrice | number: '1.2-2') + ' PLN' }}</div>
		<div class="buttons">
			<button mat-flat-button (click)="clearCart()">{{ '#ticketScreen-cart-clearCart' | translate }}</button>
			<button mat-flat-button color="primary" (click)="confirmPurchase()">{{ '#ticketScreen-cart-purchase' | translate }}</button>
		</div>
		<div class="cartContents mt-3">
			<div class="ticket" *ngFor="let ticket of cart">
				<div class="info">
					<div class="for">{{ ticket.validFor }}</div>
					<div class="type">
						{{ '#ticketScreen-options-type' | translate }}:
						{{ (ticket.reduced ? '#ticketScreen-reduced' : '#ticketScreen-normal') | translate }}
					</div>
					<div class="zone">{{ '#ticketScreen-options-zone' | translate }}: {{ ticket.zone }}</div>
					<div class="price">{{ '#ticketScreen-cart-price' | translate }}: {{ ticket.price }}</div>
				</div>
				<button mat-icon-button (click)="removeFromCart(ticket)"><mat-icon color="warn">delete</mat-icon></button>
			</div>
		</div>
	</div>
	<div class="ticketSelect">
		<button *ngFor="let ticket of possibleTimes" (click)="addToCard(ticket)">{{ ticket }}</button>
	</div>
	<div class="ticketOptions sideColumn">
		<button mat-raised-button class="mb-5">{{ '#ticketScreen-options-info' | translate }} <mat-icon>info</mat-icon></button>
		<button mat-raised-button (click)="typeToggle()">
			{{ '#ticketScreen-options-type' | translate }}:
			{{ (ticketOptions.reduced ? '#ticketScreen-reduced' : '#ticketScreen-normal') | translate }}
		</button>
		<button mat-raised-button (click)="zoneToggle()">{{ '#ticketScreen-options-zone' | translate }}: {{ ticketOptions.zone }}</button>
		<div class="amountSelect">
			<div class="mb-1">{{ '#ticketScreen-options-amount' | translate }}: {{ ticketOptions.amount }}</div>
			<div class="amountSelectButtons">
				<button mat-raised-button (click)="setAmount(-1)">-</button>
				<button mat-raised-button (click)="setAmount(1)">+</button>
			</div>
		</div>
	</div>
</div>

<app-payment-handler [toPay]="totalPrice" [goBackEvent]="childGoBackEEmitter" *ngIf="visibleComponent == 'payment'"></app-payment-handler>
